# ç”¨æˆ·ä½“éªŒï¼ˆUXï¼‰ä¼˜åŒ–æ–¹æ¡ˆ

## 1. åŠ è½½çŠ¶æ€ä¼˜åŒ–

### é—®é¢˜ï¼šç¼ºå°‘åŠ è½½åé¦ˆ

```java
// âŒ å½“å‰ï¼šç›´æ¥æ›´æ–°UIï¼Œæ— åŠ è½½æç¤º
private void loadData() {
    List<VocabularyItem> data = repository.getData();
    updateUI(data);
}
```

### ä¼˜åŒ–ï¼šæ·»åŠ åŠ è½½çŠ¶æ€

```xml
<!-- æ·»åŠ  ProgressBar -->
<ProgressBar
    android:id="@+id/progress_bar"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:visibility="gone"
    app:layout_constraintTop_toTopOf="parent"
    app:layout_constraintBottom_toBottomOf="parent"
    app:layout_constraintStart_toStartOf="parent"
    app:layout_constraintEnd_toEndOf="parent" />

<!-- æ·»åŠ ç©ºçŠ¶æ€ -->
<LinearLayout
    android:id="@+id/empty_state"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:visibility="gone">
    
    <ImageView
        android:layout_width="120dp"
        android:layout_height="120dp"
        android:src="@drawable/ic_empty_state" />
    
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="æš‚æ— æ•°æ®"
        android:textSize="16sp" />
    
    <Button
        android:id="@+id/btn_retry"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="é‡è¯•" />
</LinearLayout>
```

```java
// âœ… ä¼˜åŒ–å
private void loadData() {
    showLoading();
    
    repository.getData(new OnResultListener() {
        @Override
        public void onSuccess(List<VocabularyItem> data) {
            hideLoading();
            if (data.isEmpty()) {
                showEmptyState();
            } else {
                updateUI(data);
            }
        }
        
        @Override
        public void onError(Exception e) {
            hideLoading();
            showErrorState(e.getMessage());
        }
    });
}

private void showLoading() {
    binding.progressBar.setVisibility(View.VISIBLE);
    binding.contentLayout.setVisibility(View.GONE);
    binding.emptyState.setVisibility(View.GONE);
}

private void hideLoading() {
    binding.progressBar.setVisibility(View.GONE);
}

private void showEmptyState() {
    binding.emptyState.setVisibility(View.VISIBLE);
    binding.contentLayout.setVisibility(View.GONE);
}
```

## 2. è¿‡æ¸¡åŠ¨ç”»ä¼˜åŒ–

### Activity è½¬åœºåŠ¨ç”»

```java
// åœ¨è·³è½¬æ—¶æ·»åŠ åŠ¨ç”»
Intent intent = new Intent(this, VocabularyActivity.class);
startActivity(intent);
overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);
```

```xml
<!-- res/anim/slide_in_right.xml -->
<set xmlns:android="http://schemas.android.com/apk/res/android">
    <translate
        android:fromXDelta="100%"
        android:toXDelta="0%"
        android:duration="300" />
    <alpha
        android:fromAlpha="0.0"
        android:toAlpha="1.0"
        android:duration="300" />
</set>

<!-- res/anim/slide_out_left.xml -->
<set xmlns:android="http://schemas.android.com/apk/res/android">
    <translate
        android:fromXDelta="0%"
        android:toXDelta="-30%"
        android:duration="300" />
    <alpha
        android:fromAlpha="1.0"
        android:toAlpha="0.7"
        android:duration="300" />
</set>
```

### å…±äº«å…ƒç´ è½¬åœº

```java
// åœ¨ç¬¬ä¸€ä¸ª Activity
Intent intent = new Intent(this, DetailActivity.class);
ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(
    this,
    binding.ivWord, // å…±äº«çš„ View
    "word_image"    // transition name
);
startActivity(intent, options.toBundle());
```

```xml
<!-- åœ¨å¸ƒå±€ä¸­è®¾ç½® transition name -->
<ImageView
    android:id="@+id/iv_word"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:transitionName="word_image" />
```

### åˆ—è¡¨é¡¹åŠ¨ç”»

```java
// ä½¿ç”¨ LayoutAnimation
RecyclerView recyclerView = findViewById(R.id.recycler_view);
LayoutAnimationController animation = AnimationUtils.loadLayoutAnimation(
    this, R.anim.layout_animation_fall_down
);
recyclerView.setLayoutAnimation(animation);
```

```xml
<!-- res/anim/layout_animation_fall_down.xml -->
<layoutAnimation
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:delay="15%"
    android:animationOrder="normal"
    android:animation="@anim/item_animation_fall_down" />

<!-- res/anim/item_animation_fall_down.xml -->
<set xmlns:android="http://schemas.android.com/apk/res/android"
    android:duration="300">
    <translate
        android:fromYDelta="-20%"
        android:toYDelta="0"
        android:interpolator="@android:anim/decelerate_interpolator" />
    <alpha
        android:fromAlpha="0"
        android:toAlpha="1" />
</set>
```

## 3. åé¦ˆæœºåˆ¶ä¼˜åŒ–

### ç‚¹å‡»åé¦ˆ

```xml
<!-- æ·»åŠ  ripple æ•ˆæœ -->
<Button
    android:id="@+id/btn_option"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="@drawable/btn_ripple_background" />
```

```xml
<!-- res/drawable/btn_ripple_background.xml -->
<ripple xmlns:android="http://schemas.android.com/apk/res/android"
    android:color="?attr/colorControlHighlight">
    <item>
        <shape android:shape="rectangle">
            <solid android:color="@color/button_background" />
            <corners android:radius="8dp" />
        </shape>
    </item>
</ripple>
```

### è§¦è§‰åé¦ˆ

```java
// æ·»åŠ éœ‡åŠ¨åé¦ˆ
private void performHapticFeedback() {
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
        Vibrator vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);
        if (vibrator != null) {
            VibrationEffect effect = VibrationEffect.createOneShot(
                50, // æŒç»­æ—¶é—´
                VibrationEffect.DEFAULT_AMPLITUDE
            );
            vibrator.vibrate(effect);
        }
    }
}

// åœ¨ç­”é¢˜æ­£ç¡®/é”™è¯¯æ—¶è°ƒç”¨
private void selectOption(int option) {
    if (isCorrect) {
        performHapticFeedback();
    }
}
```

### Toast ä¼˜åŒ–ä¸º Snackbar

```java
// âŒ ä½¿ç”¨ Toast
Toast.makeText(this, "ä¿å­˜æˆåŠŸ", Toast.LENGTH_SHORT).show();

// âœ… ä½¿ç”¨ Snackbarï¼ˆæ›´ç°ä»£ï¼Œå¯äº¤äº’ï¼‰
Snackbar.make(binding.getRoot(), "ä¿å­˜æˆåŠŸ", Snackbar.LENGTH_SHORT)
    .setAction("æŸ¥çœ‹", v -> {
        // ç‚¹å‡»æŸ¥çœ‹
    })
    .setActionTextColor(Color.YELLOW)
    .show();
```

## 4. é”™è¯¯å¤„ç†ä¼˜åŒ–

### å‹å¥½çš„é”™è¯¯æç¤º

```java
public class ErrorHandler {
    
    public static String getErrorMessage(Exception e) {
        if (e instanceof IOException) {
            return "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®";
        } else if (e instanceof JsonParseException) {
            return "æ•°æ®æ ¼å¼é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•";
        } else if (e instanceof SQLiteException) {
            return "æ•°æ®å­˜å‚¨å¤±è´¥ï¼Œè¯·æ£€æŸ¥å­˜å‚¨ç©ºé—´";
        } else {
            return "æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•";
        }
    }
    
    public static void showError(Context context, Exception e) {
        new AlertDialog.Builder(context)
            .setTitle("æç¤º")
            .setMessage(getErrorMessage(e))
            .setPositiveButton("ç¡®å®š", null)
            .setNeutralButton("åé¦ˆé—®é¢˜", (dialog, which) -> {
                // è·³è½¬åˆ°åé¦ˆé¡µé¢
            })
            .show();
    }
}
```

## 5. æ²‰æµ¸å¼ä½“éªŒ

### å…¨å±æ¨¡å¼

```java
// åœ¨ Activity ä¸­è®¾ç½®æ²‰æµ¸å¼çŠ¶æ€æ 
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    
    // é€æ˜çŠ¶æ€æ 
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.R) {
        Window window = getWindow();
        window.setDecorFitsSystemWindows(false);
        WindowInsetsController controller = window.getInsetsController();
        if (controller != null) {
            controller.setSystemBarsAppearance(
                WindowInsetsController.APPEARANCE_LIGHT_STATUS_BARS,
                WindowInsetsController.APPEARANCE_LIGHT_STATUS_BARS
            );
        }
    } else {
        getWindow().getDecorView().setSystemUiVisibility(
            View.SYSTEM_UI_FLAG_LAYOUT_STABLE |
            View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN
        );
    }
}
```

## 6. æ— éšœç¢æ”¯æŒ

### æ·»åŠ å†…å®¹æè¿°

```xml
<ImageButton
    android:id="@+id/btn_play"
    android:layout_width="48dp"
    android:layout_height="48dp"
    android:src="@drawable/ic_play"
    android:contentDescription="æ’­æ”¾å•è¯å‘éŸ³" />

<Button
    android:id="@+id/btn_option_a"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:text="é€‰é¡¹A"
    android:contentDescription="é€‰æ‹©ç­”æ¡ˆA" />
```

### æœ€å°è§¦æ‘¸ç›®æ ‡

```xml
<!-- ç¡®ä¿å¯ç‚¹å‡»å…ƒç´ è‡³å°‘ 48dp Ã— 48dp -->
<ImageButton
    android:layout_width="48dp"
    android:layout_height="48dp"
    android:minWidth="48dp"
    android:minHeight="48dp" />
```

## 7. å¼•å¯¼å’Œå¸®åŠ©

### é¦–æ¬¡ä½¿ç”¨å¼•å¯¼

```java
// ä½¿ç”¨ TapTargetView åº“
dependencies {
    implementation("com.getkeepsafe.taptargetview:taptargetview:1.13.3")
}

private void showGuide() {
    if (isFirstLaunch()) {
        TapTargetView.showFor(this,
            TapTarget.forView(findViewById(R.id.ll_vocabulary), 
                "è¯æ±‡è®­ç»ƒ", 
                "ç‚¹å‡»è¿™é‡Œå¼€å§‹å­¦ä¹ å•è¯")
                .outerCircleColor(R.color.colorPrimary)
                .targetCircleColor(R.color.white)
                .textColor(R.color.white)
                .cancelable(true),
            new TapTargetView.Listener() {
                @Override
                public void onTargetClick(TapTargetView view) {
                    super.onTargetClick(view);
                    startVocabularyActivity();
                }
            });
    }
}
```

### æ·»åŠ å¸®åŠ©æ–‡æ¡£

```java
// åœ¨ MoreActivity æˆ– SettingsActivity ä¸­æ·»åŠ å¸®åŠ©å…¥å£
private void showHelp() {
    Intent intent = new Intent(this, HelpActivity.class);
    startActivity(intent);
}
```

## 8. ä¸ªæ€§åŒ–è®¾ç½®

### ä¸»é¢˜åˆ‡æ¢

```java
// åœ¨ SettingsActivity ä¸­
private void switchTheme(boolean isDarkMode) {
    if (isDarkMode) {
        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);
    } else {
        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);
    }
    recreate(); // é‡æ–°åˆ›å»º Activity åº”ç”¨ä¸»é¢˜
}
```

### å­—ä½“å¤§å°è°ƒæ•´

```xml
<!-- åœ¨ styles.xml ä¸­å®šä¹‰ä¸åŒçš„å­—ä½“å¤§å°ä¸»é¢˜ -->
<style name="AppTheme.TextSize.Small" parent="AppTheme">
    <item name="android:textSize">14sp</item>
</style>

<style name="AppTheme.TextSize.Medium" parent="AppTheme">
    <item name="android:textSize">16sp</item>
</style>

<style name="AppTheme.TextSize.Large" parent="AppTheme">
    <item name="android:textSize">18sp</item>
</style>
```

## 9. å­¦ä¹ æ¿€åŠ±æœºåˆ¶

### æˆå°±ç³»ç»Ÿ

```java
public class AchievementManager {
    
    public static class Achievement {
        String id;
        String title;
        String description;
        int iconRes;
        boolean unlocked;
    }
    
    public void checkAchievements(int vocabularyCount, int studyDays) {
        if (vocabularyCount >= 100 && !isUnlocked("master_100")) {
            unlockAchievement("master_100", "ç™¾è¯è¾¾äºº", "æŒæ¡100ä¸ªå•è¯");
        }
        
        if (studyDays >= 7 && !isUnlocked("week_streak")) {
            unlockAchievement("week_streak", "åšæŒä¸æ‡ˆ", "è¿ç»­å­¦ä¹ 7å¤©");
        }
    }
    
    private void unlockAchievement(String id, String title, String description) {
        // æ˜¾ç¤ºæˆå°±è§£é”åŠ¨ç”»
        showAchievementDialog(title, description);
        // ä¿å­˜åˆ°æ•°æ®åº“
        saveAchievement(id);
    }
}
```

### æ¯æ—¥æ‰“å¡

```java
// æ˜¾ç¤ºæ‰“å¡æ—¥å†
private void showCalendar() {
    // ä½¿ç”¨ CalendarView æˆ–è‡ªå®šä¹‰æ—¥å†
    List<Date> studyDates = getStudyDates();
    calendarView.markDates(studyDates);
}
```

## 10. æ™ºèƒ½æ¨è

### å­¦ä¹ æé†’

```java
// ä½¿ç”¨ WorkManager å®ç°å®šæ—¶æé†’
public class StudyReminderWorker extends Worker {
    
    @Override
    public Result doWork() {
        showNotification("è¯¥å­¦ä¹ å•¦", "ä»Šå¤©çš„å­¦ä¹ ä»»åŠ¡è¿˜æœªå®Œæˆå“¦");
        return Result.success();
    }
    
    private void showNotification(String title, String content) {
        NotificationCompat.Builder builder = 
            new NotificationCompat.Builder(getApplicationContext(), CHANNEL_ID)
                .setSmallIcon(R.drawable.ic_notification)
                .setContentTitle(title)
                .setContentText(content)
                .setPriority(NotificationCompat.PRIORITY_DEFAULT)
                .setAutoCancel(true);
        
        NotificationManagerCompat.from(getApplicationContext())
            .notify(NOTIFICATION_ID, builder.build());
    }
}

// è®¾ç½®å®šæ—¶ä»»åŠ¡
PeriodicWorkRequest reminderWork = 
    new PeriodicWorkRequest.Builder(StudyReminderWorker.class, 1, TimeUnit.DAYS)
        .setInitialDelay(calculateDelay(), TimeUnit.MILLISECONDS)
        .build();

WorkManager.getInstance(context).enqueue(reminderWork);
```

## é¢„æœŸæ•ˆæœ

- âœ¨ æµç•…çš„åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ
- ğŸ“± æ›´å¥½çš„è§†è§‰åé¦ˆ
- ğŸ¯ æ¸…æ™°çš„çŠ¶æ€æç¤º
- â™¿ ä¼˜ç§€çš„æ— éšœç¢æ”¯æŒ
- ğŸ¨ ä¸ªæ€§åŒ–å®šåˆ¶é€‰é¡¹
- ğŸ† æ¿€åŠ±ç”¨æˆ·æŒç»­å­¦ä¹ 
- ğŸ“ˆ æé«˜ç”¨æˆ·ç•™å­˜ç‡


